services:
  playwright-bridge:
    build:
      context: .
    container_name: playwright-bridge-1
    restart: unless-stopped

    ports:
      - "8000:8000"   # MCPO OpenAPI
      - "6080:6080"   # noVNC web UI

    environment:
      MCPO_API_KEY: "${MCPO_API_KEY}"

      # Make sure profile is persisted here
      PLAYWRIGHT_MCP_USER_DATA_DIR: "/data/profile"

    volumes:
      - ./data:/data
      # put cookies.txt/json in ./data locally (NOT repo)

    shm_size: "1gb"
